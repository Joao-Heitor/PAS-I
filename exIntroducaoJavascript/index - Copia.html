<!DOCTYPE html>
<html lang="pr-br">

<head></head>

<body>
  <h1>Ola Mundo!</h1>
  <script>

    const p = "https://swapi.dev/api/planets/?page=2"

    fetch(p)
      .then(res => {
        res.json().then(data => {
          //json
          const planets = data.results
          console.log("Resultado json:", planets)
          //frozen
          const planetsFilterFrozen = planets.filter(item => item.climate.includes("frozen"))
          console.log("Planetas com clima gelado: ", planetsFilterFrozen)
          //temperate
          const planetsFilterTemperate = planets.filter(item => item.climate.includes("temperate")).map((item) => item.name)
          //mapTemperate
          const nomesPlanetasTemperate = planets.map(function (item) {
            console.log(planetsFilterTemperate.includes(item.name))
            if (planetsFilterTemperate.includes(item.name)) {
              return { name: item.name, temperate: "Sim" }
            } else {
              return { name: item.name, temperate: "Não" }
            }
          })
          //reduceTemeperate
          const qntPlanetsTemperate = nomesPlanetasTemperate.reduce(function(total, item){

            if(item.temperate == "Sim"){
              total ++
            }
            return total 
          })
          console.log(qntPlanetsTemperate)

          //tempereteTest
          const planetsFilterTemperate2 = planets.filter(item => item.climate.includes("temperate")).map((item) => item.name)
          //mapTemperateTest
          const nomesPlanetasTemperate2 = planets.map((item) => ({ name: item.name, temperate: item.climate }))

          console.log("Planetas com clima temperado: ", planetsFilterTemperate)
          console.log("Planetas com clima temperado2: ", planetsFilterTemperate2)

          // console.log("Nome de planetas: ", nomesPlanetas)
          console.log("Nome de planetas com clima temperado: ", nomesPlanetasTemperate)
          console.log("Teste: ", nomesPlanetasTemperate2)



        })
      })
      .catch((e) => console.log("Erro", e));


    console.log("-------------------------")



    //Maganez 
    //  const getResults = async () => {
    //       const results = await fetch("https://swapi.dev/api/planets/?page=2%22)
    //           .then((response) => response.json())
    //           .then(data => data.results.filter(item => item.climate.includes("temperate")));
    //       return results;
    //   }









    // async function callAsync() {
    //   try {
    //     let res = await fetch("https://swapi.dev/api/species/?page=2");
    //     let speciesList = await res.json();
    //     console.log("Lista de espécies");
    //     console.log(speciesList.results);
    //   } catch (error) {
    //     console.log(error);
    //   }
    // }
    // callAsync();
  </script>
</body>

</html>